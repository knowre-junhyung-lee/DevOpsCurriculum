# Quest 11. 보안의 기초

## Introduction
* 이번 퀘스트에서는 네트워크와 보안에 관한 아주 기초적인 것을 다룹니다.

## Topics
* VPC, 서브넷, 방화벽
* IAM
* Secrets Manager

## Resources
* [AWS VPC의 이해](https://www.44bits.io/ko/post/understanding_aws_vpc)
* [IAM](https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/introduction.html)
* [Secrets Manager](https://aws.amazon.com/ko/secrets-manager/)
* [Web security 101](https://blog.logrocket.com/web-security-101/)

## Checklist
* AWS의 VPC는 어떤 서비스일까요?

  * VPC 는 클라우드 내에서 가상네트워크를 제공하는 서비스입니다.
여러개의 서브넷으로 나누어서 사용할 수 있습니다.
라우팅 테이블을 가지고 있어 경로에 대한 설정이 가능합니다.
라우팅 테이블을 통해 인터넷 게이트웨이에 연결하면 퍼블릭 서브넷으로 구성이 가능하고
외부에서 접근하지 못하도록 프라이빗 서브넷도 구성 가능합니다.
마지막으로 NACL 을 통해서 네트워크에 대한 접근제어도 가능합니다.

* 인프라의 네트워크를 가상으로 구축하는 것은 어떤 장점이 있을까요?

  * 온프레미스 환경에서 네트워크 작업은 굉장한 비용과 위험이 존재했습니다.
네트워크 장비를 증설하거나 신규 네트워크 생성, 서브넷 추가 등의 작업을 진행한다면
다수의 다운 타임이 발생할 수 있습니다. 또한 여러 네트워크 장비들이 복잡하게 얽혀 있어
트러블 슈팅이 매우 어렵습니다.
하지만 네트워크를 가상으로 구축한다면 굉장한 유연성을 얻을 수 있습니다.
클라우드의 가상네트워크는 장비와 관련된 이슈에서 자유롭고 유연하게 생성할 수 있기 때문에 
유지보수 간 다운 타임을 최소화할 수 있습니다.
IP 대역이 부족하여 신규 대역이 필요할 때 에도 신속하게 구성이 가능합니다.
  
* IAM은 어떤 서비스일까요? 어떤 식으로 계정에 권한을 부여할까요?

  * IAM 이란 AWS 리소스의 인증과 권한을 제어하는 서비스입니다.
IAM 계정을 통해서 사용자 및 그룹에 대한 권한 제어가 가능합니다.
IAM 역할을 통해서 AWS 내부의 리소스가 다른 리소스에 접근하는 것을 제어할 수 있습니다.
IAM 은 보안주체(계정 또는 AWS 리소스) 가 관리 콘솔과 프로그래밍 방식으로 접근하는 것을 제어합니다.
  
* DB 패스워드와 같이 민감한 정보를 어떤 식으로 관리하는 것이 좋을까요?

  * 첫번째, 정보에 대한 접근 권한이 관리되어야 합니다.
  * 두번째, 암호화되어 노출 시 해독할 수 없어야 합니다.
  * 세번째, 어플리케이션에 하드코딩하지 않아야합니다.
  * 네번째, 환경 변수를 이용해 어플리케이션이 사용할 정보를 전달합니다.
  * 여러가지 방법이 있겠지만 AWS 에서 제공하는 Secrets Manager 를 이용하여 어플리케이션에 사용할 정보를 받아오는 방식도 적합하다고 생각합니다.
  
* Secrets Manager는 어떤 서비스일까요? AWS 외에 비슷한 역할을 하는 서비스로는 어떤 것이 있을까요?
 
  * 어플리케이션의 자격증명 정보를 중앙 관리할 수 있는 서비스입니다. 대표적으로 Valut 라는 소프트웨어가 있습니다.

  
* 어플리케이션 레벨에서의 보안 전략에는 어떤 것들이 있을까요?

  * 첫번째, 보안관련기구(KISA) 의 권고 사항을 적용합니다.
  * 두번째, WAF 및 다른 보안 어플라이언스를 통해 알려진 공격들을 차단합니다.
  * 세번째, 주기적인 보안 취약점 점검을 진행합니다.
  * 개발자들의 시큐어코딩 인식을 재고합니다.
  
## Quest
* VPC를 구축하고, 적절한 서브넷 설정, 보안 그룹과 방화벽을 설정해 보세요. 각각의 단계와 구성요소들이 어떤 의미인지 이해해야 합니다.
* 지금까지 구현한 웹 어플리케이션을 VPC 안에서 서비스 해 보세요.

## Advanced
* VPN이란 무엇인가요? 회사에서 VPN을 구축했을 때의 장점에는 어떤 것이 있을까요?
 
  * VPN 은 가상사설망을 구축하는 기술입니다. 사설망은 사설 IP를 사용하기 때문에 외부에서 접근이 불가합니다.
하지만 VPN 을 이용하면 외부에서 사설네트워크에 접근하거나 물리적으로 독립된 사설망 간에도 통신이 가능합니다.
VPN 은 터널링이라는 기술을 이용하여 사설망 접근을 가능하게 합니다. 원본 패킷을 VPN 프로토콜을 이용하여 재캡슐화하여 터널링을 구현합니다.
VPN 을 구현하는 프로토콜은 IPSEC, SSL, PPTP, L2TP, MPLS 등으로 다양하게 존재합니다.
대표적으로 IPSEC 과 SSL VPN 이 많이 사용됩니다.
  
  * 회사에서 VPN 을 구축했을 때의 장점은 원격에서의 작업이 가능하다는 점입니다.
엔터프라이즈 환경에서 개인이 원격에서 회사의 IT 시스템에 접근할 때에는 보안이 매우 중요합니다. 
이 때 VPN 을 이용한다면 암호화된 트래픽과 터널링을 통해 최소한의 안전장치를 마련할 수 있습니다.

* 구축한 VPN을 AWS의 VPC에 연결하려면 어떤 방법이 있을까요?

  * 클라이언트 VPN 을 기준으로 구축한다고 가정하겠습니다.
먼저 AWS의 클라이언트 VPN 엔드포인트를 생성합니다.
생성 간에 연결할 VPC 와 CIDR을 입력하고 기타 파라미터 정보를 설정합니다.
이후에 연결하고자 하는 서브넷에 라우팅 정보를 추가해 줍니다.
VPN 설정이 완료되면 VPN 클라이언트 프로그램의 접속정보를 설정하고 접속합니다.
